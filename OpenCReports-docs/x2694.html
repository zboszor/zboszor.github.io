<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>New style format strings</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REL="HOME"
TITLE="OpenCReports 0.6.3 Manual"
HREF="book1.html"><LINK
REL="UP"
TITLE="Formatting"
HREF="c2637.html"><LINK
REL="PREVIOUS"
TITLE="Legacy format strings"
HREF="x2656.html"><LINK
REL="NEXT"
TITLE="Second generation new style format strings"
HREF="x2725.html"></HEAD
><BODY
CLASS="sect1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>OpenCReports 0.6.3 Manual</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="x2656.html"
ACCESSKEY="P"
>&#60;&#60;&#60; Previous</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Formatting</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="x2725.html"
ACCESSKEY="N"
>Next &#62;&#62;&#62;</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="sect1"
><H1
CLASS="sect1"
><A
NAME="AEN2694"
>New style format strings</A
></H1
><P
>&#13;			RLIB supported "new style" format strings that allowed
			formatting numeric data as monetary values and allowed
			to disambiguate between format strings used for different
			data types. This was needed because some format flags
			are used in both <TT
CLASS="literal"
>printf()</TT
>,
			<TT
CLASS="literal"
>strfmon()</TT
> and <TT
CLASS="literal"
>strftime()</TT
>.
		</P
><DIV
CLASS="sect2"
><H2
CLASS="sect2"
><A
NAME="AEN2700"
>New style format string for strings</A
></H2
><P
>&#13;				This is an extension over RLIB, which didn't have
				such a notion. In OpenCReports, the new style flag
				is prefixed with <TT
CLASS="literal"
>!&#38;</TT
>
				<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="programlisting"
>&#60;field ... format="'!&#38;%s'" ... /&#62;</PRE
></TD
></TR
></TABLE
>
			</P
></DIV
><DIV
CLASS="sect2"
><H2
CLASS="sect2"
><A
NAME="AEN2705"
>New style format string for numeric data</A
></H2
><P
>&#13;				The new style flag is prefixed with <TT
CLASS="literal"
>!#</TT
>
				<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="programlisting"
>&#60;field ... format="'!#%5.3d'" ... /&#62;</PRE
></TD
></TR
></TABLE
>
			</P
></DIV
><DIV
CLASS="sect2"
><H2
CLASS="sect2"
><A
NAME="AEN2710"
>New style format string for monetary data</A
></H2
><P
>&#13;				The new style flag is prefixed with <TT
CLASS="literal"
>!$</TT
>
				<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="programlisting"
>&#60;field ... format="'!$%=*#150n'" ... /&#62;</PRE
></TD
></TR
></TABLE
>
			</P
><P
>&#13;				Formatting monetary values uses <TT
CLASS="literal"
>strfmon()</TT
>.
				See
				<A
HREF="https://man7.org/linux/man-pages/man3/strfmon.3.html"
TARGET="_top"
>strfmon(3)</A
>
			</P
><P
>&#13;				To print the correct currency name, the locale must be
				set for the report. Only one locale can be set, so
				a single currency name will be used for every value
				using monetary formatting.
			</P
></DIV
><DIV
CLASS="sect2"
><H2
CLASS="sect2"
><A
NAME="AEN2719"
>New style format string for datetime values</A
></H2
><P
>&#13;				The new style flag is prefixed with <TT
CLASS="literal"
>!@</TT
>
				Formatting a datetime value uses <TT
CLASS="literal"
>strftime()</TT
>.
				<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="programlisting"
>&#60;field ... format="'!@%c'" ... /&#62;

&#60;field ... format="'!@%Y-%m-%d'" ... /&#62;</PRE
></TD
></TR
></TABLE
>
			</P
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="x2656.html"
ACCESSKEY="P"
>&#60;&#60;&#60; Previous</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="book1.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="x2725.html"
ACCESSKEY="N"
>Next &#62;&#62;&#62;</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Legacy format strings</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="c2637.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Second generation new style format strings</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>