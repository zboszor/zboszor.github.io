<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>5.5. Precalculated variables</title><link rel="stylesheet" type="text/css" href="https://www.postgresql.org/media/css/docs-complete.css" /><link rev="made" href="zboszor@gmail.com" /><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot" /><link rel="prev" href="customvar.html" title="5.4. Custom variables" /><link rel="next" href="breaks.html" title="Chapter 6. Report breaks" /></head><body id="docContent" class="container-fluid col-10"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="5" align="center">5.5. Precalculated variables</th></tr><tr><td width="10%" align="left"><a accesskey="p" href="customvar.html" title="5.4. Custom variables">Prev</a> </td><td width="10%" align="left"><a accesskey="u" href="variables.html" title="Chapter 5. Report variables">Up</a></td><th width="60%" align="center">Chapter 5. Report variables</th><td width="10%" align="right"><a accesskey="h" href="index.html" title="OpenCReports 0.8.10 Manual">Home</a></td><td width="10%" align="right"> <a accesskey="n" href="breaks.html" title="Chapter 6. Report breaks">Next</a></td></tr></table><hr /></div><div class="sect1" id="PRECALCVAR"><div class="titlepage"><div><div><h2 class="title" style="clear: both">5.5. Precalculated variables <a href="#PRECALCVAR" class="id_link">#</a></h2></div></div></div><p>
			By default, variables produce results that are
			valid for the data rows they are derived from.
			Iterative variables variable produce results
			that are valid for the current row and preceding
			rows.
		</p><p>
			Usually, we are not interested in the
			<span class="emphasis"><em>running average</em></span>, only
			in the average of the whole data series.
		</p><p>
			This is where the <span class="emphasis"><em>precalculated</em></span>
			variables come in.
		</p><p>
			A variable can be set to be precalculated via the
			<a class="xref" href="variablenode.html#PRECALCVARATTR" title="8.12.1.6. Precalculate (delayed)">Precalculate attribute</a>.
		</p><p>
			As it was already mentioned for <a class="xref" href="precalcexpr.html" title="3.3. Delayed (precalculated) expressions">precalculated</a>
			expressions, the report goes through the data set twice.
			At the end of the first run, the value of precalculated
			variables computed for the last row are kept. In the
			second run, the same value is supplied for every data row.
			The value of such a precalculated variable can be displayed
			in a report header, which is shown before any report details
			to inform the reader in advance without having to look
			at the last page.
		</p><p>
			See <a class="xref" href="variablenode.html#PRECALCVARATTR" title="8.12.1.6. Precalculate (delayed)">Precalculate attribute</a> for an example.
		</p><p>
			Variables can reference other variables. When
			certain combinations are encountered, it's necessary
			to calculate the variables' values in multiple
			rounds. For example, when a precalculated variable
			is referenced by another precalculated variable that
			also has its ignore expression set (especially if
			the ignore expression references that other
			variable), or its value is reset on a break boundary,
			the referred variable's value needs to be computed
			first, in order for the referring variable value
			to be intuitively correct.
		</p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="customvar.html" title="5.4. Custom variables">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="variables.html" title="Chapter 5. Report variables">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="breaks.html" title="Chapter 6. Report breaks">Next</a></td></tr><tr><td width="40%" align="left" valign="top">5.4. Custom variables </td><td width="20%" align="center"><a accesskey="h" href="index.html" title="OpenCReports 0.8.10 Manual">Home</a></td><td width="40%" align="right" valign="top"> Chapter 6. Report breaks</td></tr></table></div></body></html>