<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>2.17. Text element</title><link rel="stylesheet" type="text/css" href="https://www.postgresql.org/media/css/docs-complete.css" /><link rev="made" href="zboszor@gmail.com" /><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot" /><link rel="prev" href="linenode.html" title="2.16. Line" /><link rel="next" href="hlinenode.html" title="2.18. HorizontalLine" /></head><body id="docContent" class="container-fluid col-10"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="5" align="center">2.17. Text element</th></tr><tr><td width="10%" align="left"><a accesskey="p" href="linenode.html" title="2.16. Line">Prev</a> </td><td width="10%" align="left"><a accesskey="u" href="xmldescriptor.html" title="Chapter 2. Report XML description">Up</a></td><th width="60%" align="center">Chapter 2. Report XML description</th><td width="10%" align="right"><a accesskey="h" href="index.html" title="OpenCReports 0.8.2 Manual">Home</a></td><td width="10%" align="right"> <a accesskey="n" href="hlinenode.html" title="2.18. HorizontalLine">Next</a></td></tr></table><hr /></div><div class="sect1" id="TEXTELEMNODE"><div class="titlepage"><div><div><h2 class="title" style="clear: both">2.17. Text element <a href="#TEXTELEMNODE" class="id_link">#</a></h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="sect2"><a href="textelemnode.html#TEXTELEMATTS">2.17.1. Text element attributes</a></span></dt></dl></div><p>
			Two variants are accepted.
			</p><pre class="programlisting">&lt;Line&gt;
    &lt;field value="expression..." ... /&gt;
&lt;/Line&gt;</pre><p> and
			</p><pre class="programlisting">&lt;Line&gt;
    &lt;literal ... &gt;Literal text&lt;/literal&gt;
&lt;/Line&gt;</pre><p>
		</p><p>
			Neither <code class="literal">field</code> nor
			<code class="literal">literal</code> have child nodes,
			only attributes or XML values.
		</p><p>
			The two variants are interchangeable, see
			<a class="xref" href="textelemnode.html#ELEMVALUEATTR" title="2.17.1.1. Value">Text element value</a> below.
		</p><div class="sect2" id="TEXTELEMATTS"><div class="titlepage"><div><div><h3 class="title">2.17.1. Text element attributes <a href="#TEXTELEMATTS" class="id_link">#</a></h3></div></div></div><div class="sect3" id="ELEMVALUEATTR"><div class="titlepage"><div><div><h4 class="title">2.17.1.1. Value <a href="#ELEMVALUEATTR" class="id_link">#</a></h4></div></div></div><p>
					The value of the text element. It's accepted in two
					ways: in the <code class="literal">value</code> attribute or as
					the XML value for the <code class="literal">field</code> and
					<code class="literal">literal</code> nodes.
					</p><pre class="programlisting">&lt;Line&gt;
    &lt;field value="'This text'" /&gt;
    &lt;field&gt;This text&lt;/field&gt;
    &lt;literal value="'This text'" /&gt;
    &lt;literal&gt;This text&lt;/literal&gt;
&lt;/Line&gt;</pre><p>
				</p><p>
					The value is parsed as an expression
					from the <code class="literal">value</code> attribute.
					See <a class="xref" href="expressions.html" title="Chapter 3. Expressions in OpenCReports">Expressions</a>.
				</p><p>
					On the other hand, the value is taken as a literal
					string from the XML value in the second and fourth
					examples above.
				</p></div><div class="sect3" id="TEXTELEMDELAYED"><div class="titlepage"><div><div><h4 class="title">2.17.1.2. Delayed (precalculated) value <a href="#TEXTELEMDELAYED" class="id_link">#</a></h4></div></div></div><p>
					This setting indicates whether the value is
					"precalculated", i.e. the value for the last
					row in the data set is used, or it would be
					the actual value for the current row in the
					data set.
					</p><pre class="programlisting">&lt;field delayed="yes" /&gt;
&lt;field precalculate="yes" /&gt;</pre><p>
				</p><p>
					Default is <code class="literal">false</code>.
				</p><p>
					This setting is only applicable for
					line elements in the
					<a class="xref" href="outputnode.html" title="2.15. Output">Output node</a> node in
					<code class="literal">&lt;ReportHeader&gt;</code>,
					<code class="literal">&lt;ReportFooter&gt;</code>,
					<code class="literal">&lt;Fieldheaders&gt;</code>
					<code class="literal">&lt;FieldDetails&gt;</code>,
					since they are the ones under the
					<code class="literal">&lt;Report&gt;</code> scope
					with a query.
				</p><p>
					Note that in <code class="literal">OpenCReports</code>,
					an expression may mix references to precalculated
					variables with non-precalculated variables and
					query field references. The result will use the
					precalculated value only for the precalculated
					variables. Other references will use values derived
					from the current row in the data set.
					This is an extension over RLIB.
				</p></div><div class="sect3" id="FORMATATTR"><div class="titlepage"><div><div><h4 class="title">2.17.1.3. Format string <a href="#FORMATATTR" class="id_link">#</a></h4></div></div></div><p>
					The format string is used to format the
					<code class="literal">value</code> to be displayed
					in the generated output. For example, to
					print a number with two decimal places:
					</p><pre class="programlisting">&lt;field value="3" format="'%.2d'" /&gt;</pre><p>
				</p><p>
					The format string is expected to be a string
					so quoting around it is needed.
				</p><p>
					See <a class="xref" href="formatting.html" title="Chapter 6. Formatting">Formatting data</a> for details.
				</p></div><div class="sect3" id="TEXTELEMWIDTH"><div class="titlepage"><div><div><h4 class="title">2.17.1.4. Width <a href="#TEXTELEMWIDTH" class="id_link">#</a></h4></div></div></div><p>
					The field width.
					</p><pre class="programlisting">&lt;field value="3" format="'%.2d'" width="6" /&gt;</pre><p>
				</p><p>
					Default is unset, i.e. the field width
					is implicitly set to the rendered width (in points)
					of the field's formatted value as text, using the
					font name and font size of the field.
				</p><p>
					If set, the width's unit depends on the
					<a class="xref" href="ocrpttopxml.html#SIZEUNIT" title="2.2.1. Size unit attribute">Size unit attribute</a>.
				</p><p>
					When the <a class="xref" href="ocrpttopxml.html#SIZEUNIT" title="2.2.1. Size unit attribute">Size unit attribute</a> is set to
					<code class="literal">rlib</code>, the field width is measured
					in number of characters.
				</p><p>
					The character width is queried from the font set by
					<a class="xref" href="linenode.html#LINEFONTNAME" title="2.16.1.1. Font name">Line font name</a> and
					<a class="xref" href="linenode.html#LINEFONTSIZE" title="2.16.1.2. Font size">Line font size</a>,
					<a class="xref" href="report.html#REPORTFONTNAME" title="2.9.1.1. Font name">Report font name</a> and
					<a class="xref" href="report.html#REPORTFONTSIZE" title="2.9.1.2. Font size">Report font size</a>, or
					<a class="xref" href="parts.html#PARTFONTNAME" title="2.6.1.1. Font name">Part font name</a> and
					<a class="xref" href="parts.html#PARTFONTSIZE" title="2.6.1.2. Font size">Part font size</a>
					in decreasing order of precedence.
				</p><p>
					<a class="xref" href="textelemnode.html#TEXTELEMFONTNAME" title="2.17.1.8. Font name">Text element font name</a> and
					<a class="xref" href="textelemnode.html#TEXTELEMFONTSIZE" title="2.17.1.9. Font size">Text element font size</a> DO NOT influence
					the font width used to determine the field width.
				</p><p>
					This allows using uniquely set font name and size for
					individual text elements, including proportional
					fonts.
				</p><p>
					When using different font names or font sizes for
					different text elements in the same
					<code class="literal">&lt;Line&gt;</code>, the text elements
					are aligned vertically so all text elements are
					rendered on the same typographic baseline.
				</p></div><div class="sect3" id="TEXTELEMALIGN"><div class="titlepage"><div><div><h4 class="title">2.17.1.5. Alignment <a href="#TEXTELEMALIGN" class="id_link">#</a></h4></div></div></div><p>
					It specifies the alignment for the text element.
					It works in accordance with the
					<a class="xref" href="textelemnode.html#TEXTELEMWIDTH" title="2.17.1.4. Width">Text element width</a>, i.e. the field's
					formatted value (as text) is aligned inside the
					specified field width.
					</p><pre class="programlisting">&lt;field value="3" format="'%.2d'"
      width="6" align="'center' /"&gt;</pre><p>
				</p><p>
					The alignment values may be
					<code class="literal">left</code>,
					<code class="literal">right</code>,
					<code class="literal">center</code> or
					<code class="literal">justified</code>.
				</p><p>
					Justified alignment is like left alignment,
					but for a multi-line field all lines but the
					last are justified. This is best used With
					the default word wrapping. In this case,
					the spacing between words is enlarged.
					<code class="literal">justified</code> and
					<code class="literal">left</code> behave the same
					for regular single-line fields.
				</p><p>
					Default is <code class="literal">left</code>.
				</p><p>
					<code class="literal">OpenCReports</code> decoupled
					the data from displaying it. For example,
					with the PDF output, the text element is not
					truncated to the element width. Instead,
					pixel perfect alignment is used together
					with masking the parts of the value with
					a bounding box. This is a deviation from
					RLIB where data was approximately truncated,
					because it was designed with monospace fonts
					in mind, and widths were specified in number
					of characters.
				</p></div><div class="sect3" id="TEXTCOLOR"><div class="titlepage"><div><div><h4 class="title">2.17.1.6. Text color <a href="#TEXTCOLOR" class="id_link">#</a></h4></div></div></div><p>
					This color is used to render text. It's accepted
					with both American and  British spelling.
					</p><pre class="programlisting">&lt;Line color="'blue'"&gt;
&lt;Line colour="'blue'"&gt;</pre><p>
				</p><p>
					Default is what's set for <a class="xref" href="linenode.html" title="2.16. Line">Line node</a>,
					otherwise <code class="literal">black</code>.
					See <a class="xref" href="colorspec.html" title="2.21. Color specification">Color specification</a>.
				</p></div><div class="sect3" id="TEXTBGCOLOR"><div class="titlepage"><div><div><h4 class="title">2.17.1.7. Background color <a href="#TEXTBGCOLOR" class="id_link">#</a></h4></div></div></div><p>
					This color is used to render the background
					rectangle under the text. It's accepted
					with both American and  British spelling.
					</p><pre class="programlisting">&lt;Line bgcolor="'blue'"&gt;
&lt;Line bgcolour="'blue'"&gt;</pre><p>
				</p><p>
					Default is <code class="literal">white</code>.
					See <a class="xref" href="colorspec.html" title="2.21. Color specification">Color specification</a>.
				</p></div><div class="sect3" id="TEXTELEMFONTNAME"><div class="titlepage"><div><div><h4 class="title">2.17.1.8. Font name <a href="#TEXTELEMFONTNAME" class="id_link">#</a></h4></div></div></div><p>
					The font name attribute specifies the font
					for the text element's scope.
					It may be specified in two forms, the first one
					is the preferred name, the second is for RLIB
					compatibility:
					</p><pre class="programlisting">&lt;Part font_name="Arial"&gt;
&lt;Part fontName="Arial"&gt;</pre><p>
				</p><p>
					If both forms are specified, <code class="literal">font_name</code>
					is used.
				</p><p>
					Default font name is <code class="literal">Courier</code>.
				</p></div><div class="sect3" id="TEXTELEMFONTSIZE"><div class="titlepage"><div><div><h4 class="title">2.17.1.9. Font size <a href="#TEXTELEMFONTSIZE" class="id_link">#</a></h4></div></div></div><p>
					The font size attribute specifies the font size
					for the text element's scope.
					It may be specified in two forms, the first one
					is the preferred name, the second is for RLIB
					compatibility:
					</p><pre class="programlisting">&lt;Part font_size="10"&gt;
&lt;Part fontSize="10"&gt;</pre><p>
				</p><p>
					If both forms are specified, <code class="literal">font_size</code>
					is used.
				</p><p>
					Default font size is 12.
				</p></div><div class="sect3" id="TEXTBOLD"><div class="titlepage"><div><div><h4 class="title">2.17.1.10. Bold font <a href="#TEXTBOLD" class="id_link">#</a></h4></div></div></div><p>
					Whether the text element uses bold font.
					It overrides the <a class="xref" href="linenode.html#LINEBOLDATTR" title="2.16.1.3. Bold font">Line bold attribute</a>
					for this text element.
					</p><pre class="programlisting">&lt;field bold="yes" /&gt;</pre><p>
				</p><p>
					Default is what's set for
					<a class="xref" href="linenode.html#LINEBOLDATTR" title="2.16.1.3. Bold font">Line bold attribute</a>.
					<code class="literal">false</code> if both are unset.
				</p></div><div class="sect3" id="TEXTITALIC"><div class="titlepage"><div><div><h4 class="title">2.17.1.11. Italic font <a href="#TEXTITALIC" class="id_link">#</a></h4></div></div></div><p>
					Whether the text element uses italic font.
					It overrides the <a class="xref" href="linenode.html#LINEITALICATTR" title="2.16.1.4. Italic font">Line italic attribute</a>
					for this text element.
					It is accepted in two forms:
					</p><pre class="programlisting">&lt;field italic="yes" /&gt;
&lt;field italics="yes" /&gt;</pre><p>
				</p><p>
					Default is what's set for
					<a class="xref" href="linenode.html#LINEITALICATTR" title="2.16.1.4. Italic font">Line italic attribute</a>.
					<code class="literal">false</code> if both are unset.
				</p></div><div class="sect3" id="WEBLINK"><div class="titlepage"><div><div><h4 class="title">2.17.1.12. Web link <a href="#WEBLINK" class="id_link">#</a></h4></div></div></div><p>
					This attribute adds a weblink to the text element.
					E.g. clicking on this text element in the generated
					PDF will open a browser with the website.
					</p><pre class="programlisting">&lt;field value="'This is my website'"
       link="'https://github.com/zboszor/OpenCReports'" /&gt;</pre><p>
				</p><p>
					Default is no weblink.
				</p></div><div class="sect3" id="MEMO"><div class="titlepage"><div><div><h4 class="title">2.17.1.13. Multi-line (memo) field <a href="#MEMO" class="id_link">#</a></h4></div></div></div><p>
					This attribute allows breaking long text fields
					to multiple lines according to the 
					<a class="xref" href="textelemnode.html#TEXTELEMWIDTH" title="2.17.1.4. Width">Text element width</a>.
					</p><pre class="programlisting">&lt;field value="'This is a long text...'"
       width="12" memo="yes" /&gt;</pre><p>
				</p><p>
					Default is <code class="literal">false</code>, i.e. the field
					is rendered on a single line.
				</p><p>
					Every line of the text element (regardless if it's a memo
					field or not) is aligned according to
					<a class="xref" href="textelemnode.html#TEXTELEMALIGN" title="2.17.1.5. Alignment">Text element alignment</a>.
				</p></div><div class="sect3" id="MEMOWRAP"><div class="titlepage"><div><div><h4 class="title">2.17.1.14. Multi-line field wrapping <a href="#MEMOWRAP" class="id_link">#</a></h4></div></div></div><p>
					This attribute allows wrapping multi-line
					text at characters as opposed to words.
					</p><pre class="programlisting">&lt;field value="'This is a long text...'"
       width="12" memo="yes" memo_wrap_chars="yes" /&gt;</pre><p>
				</p><p>
					Default is <code class="literal">false</code>, i.e. the field
					is wrapped at word boundaries.
				</p><p>
					In <code class="literal">OpenCReports</code>, character
					wrapping adds hyphenation, thanks to Pango rendering.
					This is a deviation from RLIB.
				</p></div><div class="sect3" id="MEMOROWLIMIT"><div class="titlepage"><div><div><h4 class="title">2.17.1.15. Multi-line field row limit <a href="#MEMOROWLIMIT" class="id_link">#</a></h4></div></div></div><p>
					This attribute allows limiting multi-line
					text with a maximum row number.
					</p><pre class="programlisting">&lt;field value="'This is a long text...'"
       width="12" memo="yes" memo_max_lines="20" /&gt;</pre><p>
				</p><p>
					Default is no limit.
				</p><p>
					In <code class="literal">OpenCReports</code>, character
					wrapping adds hyphenation, thanks to Pango rendering.
					This is a deviation from RLIB.
				</p></div><div class="sect3" id="TEXTXLATE"><div class="titlepage"><div><div><h4 class="title">2.17.1.16. Translation <a href="#TEXTXLATE" class="id_link">#</a></h4></div></div></div><p>
					This attribute allows the text element to
					be translated to a different language.
					</p><pre class="programlisting">&lt;field value="'This is a field'"
       translate="yes" /&gt;</pre><p>
				</p><p>
					The expression result for <code class="literal">translate</code>
					must be numeric (boolean).
				</p><p>
					For translations to work, the translation settings
					and the language (locale) must be correctly set up.
				</p><p>
					OpenCReports will attempt to translate
					both the format string and the text element's
					value. For example, if the format string
					has a translated variant in the translations,
					then this formatted result will be translated:
					</p><pre class="programlisting">&lt;field value="q.apples"
       format="'You have %d apples.'"
       translate="yes" /&gt;</pre><p>
				</p><p>
					Default is <code class="literal">no</code>.
				</p><p>
					And alternative way is to use the translation
					functions directly in the field expression.
					See <a class="xref" href="listoffuncs.html#TRANSLATEFUNC" title="3.6.90. translate()">translate()</a>
					and <a class="xref" href="listoffuncs.html#TRANSLATE2FUNC" title="3.6.91. translate2()">translate2()</a>.
					When using them, the <code class="literal">translate="yes"</code>
					attribute is not needed.
				</p></div><div class="sect3" id="TEXTCOLID"><div class="titlepage"><div><div><h4 class="title">2.17.1.17. Column number <a href="#TEXTCOLID" class="id_link">#</a></h4></div></div></div><p>
					This attribute is accepted for RLIB compatibility,
					but it's unused.
					</p><pre class="programlisting">&lt;field value="'This is a long text...'"
       col="3" /&gt;</pre><p>
				</p></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="linenode.html" title="2.16. Line">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="xmldescriptor.html" title="Chapter 2. Report XML description">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="hlinenode.html" title="2.18. HorizontalLine">Next</a></td></tr><tr><td width="40%" align="left" valign="top">2.16. Line </td><td width="20%" align="center"><a accesskey="h" href="index.html" title="OpenCReports 0.8.2 Manual">Home</a></td><td width="40%" align="right" valign="top"> 2.18. HorizontalLine</td></tr></table></div></body></html>